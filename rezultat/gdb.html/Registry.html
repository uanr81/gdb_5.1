<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
<title>Регистры (Отладка с помощью GDB)</title>

<meta name="description" content="Регистры (Отладка с помощью GDB)">
<meta name="keywords" content="Регистры (Отладка с помощью GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html" rel="start" title="Top">
<link href="Alfavitnyi-ukazatelx.html" rel="index" title="Алфавитный указатель">
<link href="Alfavitnyi-ukazatelx.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Dannye.html" rel="up" title="Данные">
<link href="Vychisleniya-s-plavaiushchei-tochkoi.html" rel="next" title="Вычисления с плавающей точкой">
<link href="Vspomogatelxnye-peremennye.html" rel="prev" title="Вспомогательные переменные">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="ru">
<span id="g_t_0420_0435_0433_0438_0441_0442_0440_044b"></span><div class="header">
<p>
Next: <a href="Vychisleniya-s-plavaiushchei-tochkoi.html" accesskey="n" rel="next">Вычисления с плавающей точкой</a>, Previous: <a href="Vspomogatelxnye-peremennye.html" accesskey="p" rel="prev">Вспомогательные переменные</a>, Up: <a href="Dannye.html" accesskey="u" rel="up">Данные</a> &nbsp; [<a href="Alfavitnyi-ukazatelx.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Alfavitnyi-ukazatelx.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Registry"></span><h3 class="section">8.10 Регистры</h3>

<span id="index-registry"></span>
<p>В выражениях, вы можете обращаться к содержимому машинных регистров,
обозначая их как переменные с именами, начинающимся с &lsquo;<samp>$</samp>&rsquo;.  Имена
регистров различаются от машины к машине; для вывода имен регистров,
используемых на вашей машине, воспользуйтесь командой <code>info registers</code>.
</p>
<dl compact="compact">
<dd><span id="index-info-registers"></span>
</dd>
<dt><code>info registers</code></dt>
<dd><p>Вывести имена и содержимое всех регистров, кроме
регистров с плавающей точкой (в выбранном кадре стека).
</p>
<span id="index-info-all_002dregisters"></span>
<span id="index-registry-s-plavaiushchei-tochkoi"></span>
</dd>
<dt><code>info all-registers</code></dt>
<dd><p>Вывести имена и содержимое всех регистров, включая регистры с плавающей
точкой.
</p>
</dd>
<dt><code>info registers <var>имя-рег</var> &hellip;</code></dt>
<dd><p>Выводит <em>относительное</em> значение каждого из указанных в <var>имя-рег</var>
регистров.  Как подробно обсуждается ниже, значения
регистров обычно относятся к выбранному кадру стека.  <var>Имя-рег</var>
может быть любым допустимым на вашей машине именем регистра, с &lsquo;<samp>$</samp>&rsquo;
в начале имени или без.
</p></dd>
</dl>

<p>GDB распознает четыре &ldquo;стандартных&rdquo; имени регистров, которые
доступны (в выражениях) на большинстве машин &mdash; если только они не
конфликтуют с каноническим для архитектуры обозначением регистров.
Названия регистров <code>$pc</code> и <code>$sp</code> используются для регистра
счетчика программы и указателя вершины стека.  <code>$fp</code> используется
как имя регистра, содержащего указатель на текущий кадр стека, а
<code>$ps</code> &mdash; как имя регистра, содержащего состояние процессора.
Например, вы можете вывести счетчик программы в шестнадцатеричной записи
с помощью
</p>
<div class="example">
<pre class="example">p/x $pc
</pre></div>

<p>или вывести следующую исполняемую инструкцию, используя
</p>
<div class="example">
<pre class="example">x/i $pc
</pre></div>

<p>или увеличить указатель вершины стека на четыре<a id="DOCF12" href="#FOOT12"><sup>12</sup></a> с помощью
</p>
<div class="example">
<pre class="example">set $sp += 4
</pre></div>

<p>Когда возможно, эти четыре стандартных имени регистров доступны на вашей
машине, даже если она имеет другую каноническую мнемонику,
если не возникает конфликта.  Команда <code>info registers</code>
показывает канонические имена.  В SPARC, например, <code>info registers</code>
отображает регистр состояния процессора как <code>$psr</code>, но вы также можете
называть его <code>$ps</code>; а на машинах, базирующихся на платформе x86,
<code>$ps</code> является синонимом для регистра <small>EFLAGS</small>.
</p>
<p>Когда регистр изучается таким образом, GDB всегда рассматривает
содержимое обычного регистра как целое.  Некоторые машины имеют
специальные регистры, которые могут содержать только значение с
плавающей точкой; их значения трактуются как величины с плавающей
точкой.  Не существует способа сослаться на содержимое обычного
регистра как на величину с плавающей точкой (хотя вы можете распечатать
его значение командой <em>print</em> как величину с плавающей точкой,
используя &lsquo;<samp>print/f $<var>имя-рег</var></samp>&rsquo;).
</p>
<p>Некоторые регистры имеют различные &ldquo;необработанные&rdquo; и &ldquo;виртуальные&rdquo;
форматы данных.  Это означает, что формат данных, в котором
операционная система сохраняет содержимое регистра, не совпадает с
тем, который обычно воспринимается вашей программой.  Например, регистры
сопроцессора с плавающей точкой 68881 всегда сохраняются в
&ldquo;расширенном&rdquo; (необработанном) формате, но все программы на Си работают с
&ldquo;двойным&rdquo; (виртуальным) форматом.  В подобных случаях, GDB обычно
работает только с виртуальным форматом (форматом, имеющим смысл в вашей
программе), но команда <code>info registers</code> выводит данные в обоих
форматах.
</p>
<p>Обычно значения регистров относятся к выбранному кадру стека
(see <a href="Vybor.html">Выбор кадра</a>).  Это значит, что вы получаете
значение, которое содержалось бы в регистре, если бы произошел выход
из всех внутренних кадров стека, и их сохраненные регистры были бы
восстановлены.  Для того, чтобы увидеть истинное содержимое аппаратных
регистров, вы должны выбрать самый внутренний кадр (с помощью
&lsquo;<samp>frame 0</samp>&rsquo;).
</p>
<p>Однако, GDB, исходя из машинного кода, сгенерированного вашим
компилятором, должен установить, где сохранены регистры.  Если
некоторые регистры не сохранены, или если GDB не в состоянии найти
сохраненные регистры, выбранный кадр стека не имеет значения.
</p>
<div class="footnote">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h5><a id="FOOT12" href="#DOCF12">(12)</a></h3>
<p>На машинах, где
стек растет вниз в памяти (в наши дни, на большинстве машин), это способ
удалить одно слово из стека.  Это подразумевает, что выбран самый
внутренний кадр; когда выбраны другие кадры стека, установка
<code>$sp</code> не разрешена.  Используйте <code>return</code> для извлечения
целого кадра из стека, вне зависимости от архитектуры машины; смотрите
<a href="Vozvrat.html">Возврат из функции</a>.</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="Vychisleniya-s-plavaiushchei-tochkoi.html" accesskey="n" rel="next">Вычисления с плавающей точкой</a>, Previous: <a href="Vspomogatelxnye-peremennye.html" accesskey="p" rel="prev">Вспомогательные переменные</a>, Up: <a href="Dannye.html" accesskey="u" rel="up">Данные</a> &nbsp; [<a href="Alfavitnyi-ukazatelx.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Alfavitnyi-ukazatelx.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
