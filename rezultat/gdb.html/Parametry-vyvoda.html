<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
<title>Параметры вывода (Отладка с помощью GDB)</title>

<meta name="description" content="Параметры вывода (Отладка с помощью GDB)">
<meta name="keywords" content="Параметры вывода (Отладка с помощью GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html" rel="start" title="Top">
<link href="Alfavitnyi-ukazatelx.html" rel="index" title="Алфавитный указатель">
<link href="Alfavitnyi-ukazatelx.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Dannye.html" rel="up" title="Данные">
<link href="Istoriya-znachenii.html" rel="next" title="История значений">
<link href="Avtomaticheskoe-otobrazhenie.html" rel="prev" title="Автоматическое отображение">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="ru">
<span id="g_t_041f_0430_0440_0430_043c_0435_0442_0440_044b-_0432_044b_0432_043e_0434_0430"></span><div class="header">
<p>
Next: <a href="Istoriya-znachenii.html" accesskey="n" rel="next">История значений</a>, Previous: <a href="Avtomaticheskoe-otobrazhenie.html" accesskey="p" rel="prev">Автоматическое отображение</a>, Up: <a href="Dannye.html" accesskey="u" rel="up">Данные</a> &nbsp; [<a href="Alfavitnyi-ukazatelx.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Alfavitnyi-ukazatelx.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Parametry-vyvoda"></span><h3 class="section">8.7 Параметры вывода</h3>

<span id="index-parametry-formata"></span>
<span id="index-ustanovki-vyvoda"></span>
<p>GDB предоставляет следующие способы управления выводом массивов,
структур и символов.
</p>
<p>Данные параметры полезны при отладке программ на любом языке:
</p>
<dl compact="compact">
<dd><span id="index-set-print-address"></span>
</dd>
<dt><code>set print address</code></dt>
<dt><code>set print address on</code></dt>
<dd><p>GDB выводит адреса памяти, показывающие положение стека,
структур, указателей, точек останова и так далее, даже
когда он отображает также содержимое этих адресов.  Значение по умолчанию
установлено в <code>on</code>.  Например, вот как выглядит отображение кадра
стека с установленным <code>set print address on</code>:
</p>
<div class="example">
<pre class="example">(gdb) f
#0  set_quotes (lq=0x34c78 &quot;&lt;&lt;&quot;, rq=0x34c88 &quot;&gt;&gt;&quot;)
    at input.c:530
530         if (lquote != def_lquote)
</pre></div>

</dd>
<dt><code>set print address off</code></dt>
<dd><p>Не выводить адреса при отображении их содержимого.  Вот, например,
тот же кадр стека, отображенный с установкой <code>set print address
off</code>:
</p>
<div class="example">
<pre class="example">(gdb) set print addr off
(gdb) f
#0  set_quotes (lq=&quot;&lt;&lt;&quot;, rq=&quot;&gt;&gt;&quot;) at input.c:530
530         if (lquote != def_lquote)
</pre></div>

<p>Вы можете использовать &lsquo;<samp>set print address off</samp>&rsquo;, чтобы удалить
все машинно-зависимые отображения из интерфейса GDB.  Например, с
<code>print address off</code>, вы должны получить одинаковый текст для
цепочек вызовов на всех машинах, независимо от того, включают они
указатели в качестве аргументов или нет.
</p>
<span id="index-show-print-address"></span>
</dd>
<dt><code>show print address</code></dt>
<dd><p>Показать, должны выводиться адреса или нет.
</p></dd>
</dl>

<p>При выводе адреса в символьной форме, GDB обычно выводит ближайший
предшествующий символ плюс смещение.  Если этот символ не определяет
адрес однозначно (например, это имя, областью действия которого является
один исходный файл), вам может потребоваться дать пояснения.  Один из
способов это сделать &mdash; с помощью <code>info line</code>; например,
&lsquo;<samp>info line *0x4537</samp>&rsquo;.  Альтернативный способ заключается в том, чтобы
GDB выводил имя исходного файла и номер строки при выводе
символьного адреса:
</p>
<dl compact="compact">
<dd><span id="index-set-print-symbol_002dfilename"></span>
</dd>
<dt><code>set print symbol-filename on</code></dt>
<dd><p>Велит GDB выводить имя исходного файла и номер строки
символа в символьной форме адреса.
</p>
</dd>
<dt><code>set print symbol-filename off</code></dt>
<dd><p>Не выводить имя исходного файла и номер строки символа.  Принимается по
умолчанию.
</p>
<span id="index-show-print-symbol_002dfilename"></span>
</dd>
<dt><code>show print symbol-filename</code></dt>
<dd><p>Показать, будет GDB выводить имя исходного файла и номер строки
в символьной форме адреса или нет.
</p></dd>
</dl>

<p>Другая ситуация, в которой полезно показывать имена файлов
и номера строк, возникает при дисассемблировании кода; GDB
показывает вам номер строки и исходный файл, которые соответствуют
каждой инструкции.
</p>
<p>Вы также можете захотеть видеть символьную форму только в том
случае, если выводимый адрес достаточно близок к ближайшему
предшествующему символу:
</p>
<dl compact="compact">
<dd><span id="index-set-print-max_002dsymbolic_002doffset"></span>
</dd>
<dt><code>set print max-symbolic-offset <var>макс-смещение</var></code></dt>
<dd><p>Велит GDB выводить символьные формы только тех
адресов, для которых смещение между ближайшим предшествующим символом и
адресом меньше, чем <var>макс-смещение</var>.  По умолчанию значение
<var>макс-смещение</var> равно 0; в этом случае GDB всегда выводит
адрес в символьной форме, если ему предшествует хоть какой-нибудь символ.
</p>
<span id="index-show-print-max_002dsymbolic_002doffset"></span>
</dd>
<dt><code>show print max-symbolic-offset</code></dt>
<dd><p>Запрашивает информацию о максимальном смещении, для которого GDB
выводит символьную форму адреса.
</p></dd>
</dl>

<span id="index-odinochnyi-ukazatelx_002c-interpretaciya"></span>
<span id="index-ukazatelx_002c-nakhozhdenie-obwekta-ssylki"></span>
<p>Если у вас есть указатель, и вы не знаете, на что он указывает,
попробуйте &lsquo;<samp>set print symbol-filename on</samp>&rsquo;.  Затем вы можете определить
название и исходный файл переменной, на которую он указывает, используя
&lsquo;<samp>p/a <var>указатель</var></samp>&rsquo;.  Это интерпретирует адрес в символьной
форме.  Например, здесь GDB показывает, что переменная
<code>ptt</code> указывает на другую переменную <code>t</code>, определенную в файле
<samp>hi2.c</samp>:
</p>
<div class="example">
<pre class="example">(gdb) set print symbol-filename on
(gdb) p/a ptt
$4 = 0xe008 &lt;t in hi2.c&gt;
</pre></div>

<blockquote>
<p><em>Предупреждение:</em> Для указателей, ссылающихся на локальные
переменные, &lsquo;<samp>p/a</samp>&rsquo; не показывает символьное имя и имя файла,
которому принадлежит объект ссылки, даже если установлен соответствующий
параметр <code>set print</code>.
</p></blockquote>

<p>Другие установки управляют выводом объектов различных типов:
</p>
<dl compact="compact">
<dd><span id="index-set-print-array"></span>
</dd>
<dt><code>set print array</code></dt>
<dt><code>set print array on</code></dt>
<dd><p>Структурный вывод массивов.  Этот формат удобнее для чтения, но
занимает больше места.  По умолчанию отключено.
</p>
</dd>
<dt><code>set print array off</code></dt>
<dd><p>Вернуться к сжатому формату вывода массивов.
</p>
<span id="index-show-print-array"></span>
</dd>
<dt><code>show print array</code></dt>
<dd><p>Показать, какой формат (сжатый или структурный) выбран для отображения
массивов.
</p>
<span id="index-set-print-elements"></span>
</dd>
<dt><code>set print elements <var>число-элементов</var></code></dt>
<dd><p>Установить ограничение на количество выводимых GDB элементов
массива.  Если GDB выводит большой массив, вывод прерывается
после того, как будет выведено установленное командой <code>set print
elements</code> число элементов.  Это ограничение также действует при
отображении строк.  Когда GDB стартует, этот предел принимается
равным 200.  Установка <var>число-элементов</var> в ноль означает, что вывод
не ограничен.
</p>
<span id="index-show-print-elements"></span>
</dd>
<dt><code>show print elements</code></dt>
<dd><p>Показать количество элементов большого массива, которые будут выведены
GDB.  Если это число равно 0, вывод не ограничивается.
</p>
<span id="index-set-print-null_002dstop"></span>
</dd>
<dt><code>set print null-stop</code></dt>
<dd><p>Указывает GDB прекращать вывод знаков массива, как только
встретится первый <small>NULL</small>.  Это полезно, когда большие массивы
фактически содержат только короткие строки.
По умолчанию отключено.
</p>
<span id="index-set-print-pretty-on"></span>
</dd>
<dt><code>set print pretty on</code></dt>
<dd><p>Велит GDB выводить структуры в формате с отступами, по одному
элементу в строке, например:
</p>
<div class="example">
<pre class="example">$1 = {
  next = 0x0,
  flags = {
    sweet = 1,
    sour = 1
  },
  meat = 0x54 &quot;Pork&quot;
}
</pre></div>

</dd>
<dt><code>set print pretty off</code></dt>
<dd><p>Указывает GDB выводить структуры в компактном формате, как здесь:
</p>
<div class="example">
<pre class="example">$1 = {next = 0x0, flags = {sweet = 1, sour = 1}, \
meat = 0x54 &quot;Pork&quot;}
</pre></div>

<p>Этот формат устанавливается по умолчанию.
</p>
<span id="index-show-print-pretty"></span>
</dd>
<dt><code>show print pretty</code></dt>
<dd><p>Показать, какой формат GDB использует для вывода структур.
</p>
<span id="index-set-print-sevenbit_002dstrings"></span>
</dd>
<dt><code>set print sevenbit-strings on</code></dt>
<dd><p>Осуществлять вывод, используя только семибитные знаки; если этот
параметр установлен, GDB отображает любые восьмибитные знаки (в
строках или знаковых значениях), используя запись <code>\</code><var>nnn</var>.
Эта установка очень удобна, если вы работаете на английском (<small>ASCII</small>)
и используете старший бит знаков как маркер или &ldquo;мета&rdquo;-бит.
</p>
</dd>
<dt><code>set print sevenbit-strings off</code></dt>
<dd><p>Выводить восьмибитные знаки полностью.  Это позволяет
использовать большее количество международных наборов знаков;
устанавливается по умолчанию.
</p>
<span id="index-show-print-sevenbit_002dstrings"></span>
</dd>
<dt><code>show print sevenbit-strings</code></dt>
<dd><p>Показать, выводит GDB только семибитные литеры или нет.
</p>
<span id="index-set-print-union"></span>
</dd>
<dt><code>set print union on</code></dt>
<dd><p>Велит GDB выводить объединения, содержащиеся в структурах.
Устанавливается по умолчанию.
</p>
</dd>
<dt><code>set print union off</code></dt>
<dd><p>Указывает GDB не выводить объединения, содержащиеся в структурах.
</p>
<span id="index-show-print-union"></span>
</dd>
<dt><code>show print union</code></dt>
<dd><p>Запросить GDB, будет ли он выводить объединения, содержащиеся
в структурах.
</p>
<p>Например, пусть даны описания
</p>
<div class="example">
<pre class="example">typedef enum {Tree, Bug} Species;
typedef enum {Big_tree, Acorn, Seedling} Tree_forms;
typedef enum {Caterpillar, Cocoon, Butterfly}
              Bug_forms;

struct thing {
  Species it;
  union {
    Tree_forms tree;
    Bug_forms bug;
  } form;
};

struct thing foo = {Tree, {Acorn}};
</pre></div>

<p>с установленным <code>set print union on</code>, команда &lsquo;<samp>p foo</samp>&rsquo; выведет
</p>
<div class="example">
<pre class="example">$1 = {it = Tree, form = {tree = Acorn, bug = Cocoon}}
</pre></div>

<p>а с установленным <code>set print union off</code>, эта же команда выведет
</p>
<div class="example">
<pre class="example">$1 = {it = Tree, form = {...}}
</pre></div>
</dd>
</dl>

<p>Следующие установки представляют интерес при отладке программ на Си++:
</p>
<dl compact="compact">
<dd><span id="index-vosstanovlenie"></span>
<span id="index-set-print-demangle"></span>
</dd>
<dt><code>set print demangle</code></dt>
<dt><code>set print demangle on</code></dt>
<dd><p>Печатать идентификаторы Си++ в их изначальной, а не в закодированной
(&ldquo;искаженной&rdquo;) форме, передаваемой ассемблеру и компоновщику для
сборки с контролем типа.  Установлено по умолчанию.
</p>
<span id="index-show-print-demangle"></span>
</dd>
<dt><code>show print demangle</code></dt>
<dd><p>Показать, в искаженной или восстановленной форме выводятся
идентификаторы Си++.
</p>
<span id="index-set-print-asm_002ddemangle"></span>
</dd>
<dt><code>set print asm-demangle</code></dt>
<dt><code>set print asm-demangle on</code></dt>
<dd><p>Выводить идентификаторы Си++ в их исходной форме, а не в
искаженной, даже при выводе ассемблерного кода, например при
дисассемблировании инструкций.  По умолчанию отключено.
</p>

<span id="index-show-print-asm_002ddemangle"></span>
</dd>
<dt><code>show print asm-demangle</code></dt>
<dd><p>Показать, в закодированной или восстановленной форме выводятся
имена Си++ при выводе кода ассемблера.
</p>
<span id="index-set-demangle_002dstyle"></span>
<span id="index-stilx-dekodirovaniya-simvolov-Si_002b_002b"></span>
</dd>
<dt><code>set demangle-style <var>стиль</var></code></dt>
<dd><p>Выбрать одну из нескольких схем кодирования, используемых
различными компиляторами для представления имен Си++.  Параметр
<var>стиль</var> может быть следующим:
</p>
<dl compact="compact">
<dt><code>auto</code></dt>
<dd><p>Позволить GDB выбрать стиль декодирования посредством
изучения вашей программы.
</p>
</dd>
<dt><code>gnu</code></dt>
<dd><p>Декодирование основывается на алгоритме кодирования компилятора
<small>GNU</small> Си++ (<code>g++</code>).  Устанавливается по умолчанию.
</p>
</dd>
<dt><code>hp</code></dt>
<dd><p>Декодирование основывается на алгоритме кодирования HP ANSI Си++ (<code>aCC</code>).
</p>
</dd>
<dt><code>lucid</code></dt>
<dd><p>Декодирование основывается на алгоритме кодирования компилятора
Lucid Си++ (<code>lcc</code>).
</p>
</dd>
<dt><code>arm</code></dt>
<dd><p>Декодировать, используя алгоритм из <cite>C++ Annotated Reference
Manual</cite>.
<strong>Предупреждение:</strong> одной этой установки недостаточно, чтобы производить
отладку исполняемых программ, сгенерированных <code>cfront</code>.
Чтобы реализовать это, GDB требует дальнейших усовершенствований.
</p>
</dd>
</dl>
<p>Если вы опустите <var>стиль</var>, то увидите список возможных форматов.
</p>
<span id="index-show-demangle_002dstyle"></span>
</dd>
<dt><code>show demangle-style</code></dt>
<dd><p>Отобразить текущий стиль кодирования, используемый для
декодирования символов Си++.
</p>
<span id="index-set-print-object"></span>
</dd>
<dt><code>set print object</code></dt>
<dt><code>set print object on</code></dt>
<dd><p>При отображении указателя на объект, идентифицировать <em>фактический</em>
(производный), а не <em>объявленный</em> тип объекта, используя
таблицу виртуальных функций.
</p>
</dd>
<dt><code>set print object off</code></dt>
<dd><p>Отображать только объявленный тип объекта, не ссылаясь на таблицу
виртуальных функций.  Устанавливается по умолчанию.
</p>
<span id="index-show-print-object"></span>
</dd>
<dt><code>show print object</code></dt>
<dd><p>Показать, какой из типов объекта выводится.
</p>
<span id="index-set-print-static_002dmembers"></span>
</dd>
<dt><code>set print static-members</code></dt>
<dt><code>set print static-members on</code></dt>
<dd><p>Выводить статические члены при отображении объекта Си++.  Установлено по
умолчанию.
</p>
</dd>
<dt><code>set print static-members off</code></dt>
<dd><p>Не выводить статические члены при отображении объекта Си++.
</p>
<span id="index-show-print-static_002dmembers"></span>
</dd>
<dt><code>show print static-members</code></dt>
<dd><p>Показать, выводятся статические члены Си++ или нет.
</p>
<span id="index-set-print-vtbl"></span>
</dd>
<dt><code>set print vtbl</code></dt>
<dt><code>set print vtbl on</code></dt>
<dd><p>Осуществлять структурный вывод таблиц виртуальных функций Си++.  По умолчанию
отключено.  (Команды <code>vtbl</code> не работают для программ,
скомпилированных компилятором HP ANSI Си++ (<code>aCC</code>).)
</p>
</dd>
<dt><code>set print vtbl off</code></dt>
<dd><p>Не производить структурного вывода таблиц виртуальных функций Си++.
</p>
<span id="index-show-print-vtbl"></span>
</dd>
<dt><code>show print vtbl</code></dt>
<dd><p>Показать, производится структурный вывод таблиц виртуальных
функций Си++ или нет.
</p></dd>
</dl>

<hr>
<div class="header">
<p>
Next: <a href="Istoriya-znachenii.html" accesskey="n" rel="next">История значений</a>, Previous: <a href="Avtomaticheskoe-otobrazhenie.html" accesskey="p" rel="prev">Автоматическое отображение</a>, Up: <a href="Dannye.html" accesskey="u" rel="up">Данные</a> &nbsp; [<a href="Alfavitnyi-ukazatelx.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Alfavitnyi-ukazatelx.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
