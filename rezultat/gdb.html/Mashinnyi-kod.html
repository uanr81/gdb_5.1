<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
<title>Машинный код (Отладка с помощью GDB)</title>

<meta name="description" content="Машинный код (Отладка с помощью GDB)">
<meta name="keywords" content="Машинный код (Отладка с помощью GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html" rel="start" title="Top">
<link href="Alfavitnyi-ukazatelx.html" rel="index" title="Алфавитный указатель">
<link href="Alfavitnyi-ukazatelx.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Iskhodnye-faily.html" rel="up" title="Исходные файлы">
<link href="Dannye.html" rel="next" title="Данные">
<link href="Puti-dlya-iskhodnykh-failov.html" rel="prev" title="Пути для исходных файлов">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="ru">
<span id="g_t_041c_0430_0448_0438_043d_043d_044b_0439-_043a_043e_0434"></span><div class="header">
<p>
Previous: <a href="Puti-dlya-iskhodnykh-failov.html" accesskey="p" rel="prev">Пути для исходных файлов</a>, Up: <a href="Iskhodnye-faily.html" accesskey="u" rel="up">Исходные файлы</a> &nbsp; [<a href="Alfavitnyi-ukazatelx.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Alfavitnyi-ukazatelx.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Iskhodnyi-tekst-i-mashinnyi-kod"></span><h3 class="section">7.4 Исходный текст и машинный код</h3>

<p>Вы можете использовать команду <code>info line</code>, чтобы отобразить строки
исходного текста в программные адреса (и наоборот), и
команду <code>disassemble</code>, чтобы вывести диапазон адресов в виде
машинных инструкций.  При запуске в режиме <small>GNU</small> Emacs, команда
<code>info line</code> выводит стрелку, указывающую на заданную строку.
Также <code>info line</code> выводит адреса как в символьной форме, так и в
шестнадцатеричной.
</p>
<dl compact="compact">
<dd><span id="index-info-line"></span>
</dd>
<dt><code>info line <var>указ-стр</var></code></dt>
<dd><p>Выводит начальный и конечный адреса скомпилированного кода,
соответствующего строке исходного текста <var>указ-стр</var>.  Вы можете
определить строки исходного текста любым способом, воспринимаемым
командой <code>list</code> (see <a href="Vyvod-strok.html">Вывод строк исходного текста</a>).
</p></dd>
</dl>

<p>Например, мы можем использовать <code>info line</code> для определения
положения объектного кода первой строки функции
<code>m4_changequote</code>:
</p>
<div class="example">
<pre class="example">(gdb) info line m4_changequote
Line 895 of &quot;builtin.c&quot; starts at pc 0x634c and ends at 0x6350.
</pre></div>

<p>Мы также можем запросить (используя <code>*<var>адрес</var></code> как форму
задания <var>указ-стр</var>), какая строка исходного текста соответствует
определенному адресу:
</p>
<div class="example">
<pre class="example">(gdb) info line *0x63ff
Line 926 of &quot;builtin.c&quot; starts at pc 0x63e4 and ends at 0x6404.
</pre></div>

<span id="index-_0024_005f-i-info-line"></span>
<span id="index-x_0028issledovatx_0029-i-info-line"></span>
<p>После <code>info line</code>, адрес, используемый по умолчанию для команды
<code>x</code>, меняется на начальный адрес строки, так что &lsquo;<samp>x/i</samp>&rsquo;
достаточно для начала исследования машинного кода (see <a href="Pamyatx.html">Исследование памяти</a>).  Этот адрес также сохраняется как значение
вспомогательной переменной <code>$_</code> (see <a href="Vspomogatelxnye-peremennye.html">Вспомогательные переменные</a>).
</p>
<dl compact="compact">
<dd><span id="index-disassemble"></span>
<span id="index-assemblernye-instrukcii"></span>
<span id="index-instrukcii-assemblera"></span>
<span id="index-mashinnye-instrukcii"></span>
<span id="index-vyvod-mashinnykh-instrukcii"></span>
</dd>
<dt><code>disassemble</code></dt>
<dd><p>Эта специализированная команда служит для дампа диапазона памяти в виде
машинных инструкций.  Диапазоном памяти по умолчанию является функция, в
которой находится счетчик программы в выбранном кадре.  Одиночным
параметром этой команды является значение счетчика программы;
GDB выводит дамп функции, которой принадлежит указанный адрес.  Два
параметра определяют диапазон адресов для дампа (первый включается, второй
исключается).
</p></dd>
</dl>

<p>Следующий пример показывает результат дисассемблирования диапазона
адресов кода HP PA-RISC 2.0:
</p>
<div class="example">
<pre class="example">(gdb) disas 0x32c4 0x32e4
Dump of assembler code from 0x32c4 to 0x32e4:
0x32c4 &lt;main+204&gt;:      addil 0,dp
0x32c8 &lt;main+208&gt;:      ldw 0x22c(sr0,r1),r26
0x32cc &lt;main+212&gt;:      ldil 0x3000,r31
0x32d0 &lt;main+216&gt;:      ble 0x3f8(sr4,r31)
0x32d4 &lt;main+220&gt;:      ldo 0(r31),rp
0x32d8 &lt;main+224&gt;:      addil -0x800,dp
0x32dc &lt;main+228&gt;:      ldo 0x588(r1),r26
0x32e0 &lt;main+232&gt;:      ldil 0x3000,r31
End of assembler dump.
</pre></div>

<p>Некоторые архитектуры имеют несколько широко используемых наборов мнемоник
инструкций или другой синтаксис.
</p>
<dl compact="compact">
<dd><span id="index-set-disassembly_002dflavour"></span>
<span id="index-assemblernye-instrukcii-1"></span>
<span id="index-instrukcii-assemblera-1"></span>
<span id="index-mashinnye-instrukcii-1"></span>
<span id="index-vyvod-mashinnykh-instrukcii-1"></span>
<span id="index-dialekt-disassemblirovaniya-Intel"></span>
<span id="index-dialekt-disassemblirovaniya-AT_0026T"></span>
</dd>
<dt><code>set disassembly-flavor <var>набор-инструкций</var></code></dt>
<dd><p>Выбрать набор инструкций для использования при дисассемблировании программы
командами <code>disassemble</code> и <code>x/i</code>.
</p>
<p>В настоящее время эта команда определена только для Intel x86.  Вы
можете установить <var>набор-инструкций</var> в <code>intel</code> или <code>att</code>.
По умолчанию установлено <code>att</code>, диалект AT&amp;T используется по
умолчанию ассемблерами Unix на архитектурах, базирующихся на x86.
</p></dd>
</dl>


<hr>
<div class="header">
<p>
Previous: <a href="Puti-dlya-iskhodnykh-failov.html" accesskey="p" rel="prev">Пути для исходных файлов</a>, Up: <a href="Iskhodnye-faily.html" accesskey="u" rel="up">Исходные файлы</a> &nbsp; [<a href="Alfavitnyi-ukazatelx.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Alfavitnyi-ukazatelx.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
