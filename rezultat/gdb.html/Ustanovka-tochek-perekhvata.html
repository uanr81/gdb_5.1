<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
<title>Установка точек перехвата (Отладка с помощью GDB)</title>

<meta name="description" content="Установка точек перехвата (Отладка с помощью GDB)">
<meta name="keywords" content="Установка точек перехвата (Отладка с помощью GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html" rel="start" title="Top">
<link href="Alfavitnyi-ukazatelx.html" rel="index" title="Алфавитный указатель">
<link href="Alfavitnyi-ukazatelx.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Tochki-ostanova.html" rel="up" title="Точки останова">
<link href="Udalenie-tochek-ostanova.html" rel="next" title="Удаление точек останова">
<link href="Ustanovka-tochek-nabliudeniya.html" rel="prev" title="Установка точек наблюдения">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="ru">
<span id="g_t_0423_0441_0442_0430_043d_043e_0432_043a_0430-_0442_043e_0447_0435_043a-_043f_0435_0440_0435_0445_0432_0430_0442_0430"></span><div class="header">
<p>
Next: <a href="Udalenie-tochek-ostanova.html" accesskey="n" rel="next">Удаление точек останова</a>, Previous: <a href="Ustanovka-tochek-nabliudeniya.html" accesskey="p" rel="prev">Установка точек наблюдения</a>, Up: <a href="Tochki-ostanova.html" accesskey="u" rel="up">Точки останова</a> &nbsp; [<a href="Alfavitnyi-ukazatelx.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Alfavitnyi-ukazatelx.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Ustanovka-tochek-perekhvata"></span><h4 class="subsection">5.1.3 Установка точек перехвата</h4>
<span id="index-tochki-perekhvata_002c-ustanovka"></span>
<span id="index-obrabotchiki-iskliuchenii"></span>
<span id="index-obrabotka-sobytii"></span>

<p>Вы можете использовать <em>точки перехвата</em>, чтобы вызвать остановку
отладчика в ответ на определенные типы событий в программе, такие как
исключения в Си++ или загрузка разделяемой библиотеки.  Для установки
точки перехвата используйте команду <code>catch</code>.
</p>
<dl compact="compact">
<dd><span id="index-catch"></span>
</dd>
<dt><code>catch <var>событие</var></code></dt>
<dd><p>Остановиться, когда происходит <var>событие</var>.  <var>Событие</var> может быть
одним из:
</p><dl compact="compact">
<dt><code>throw</code></dt>
<dd><span id="index-catch-throw"></span>
<p>Выбрасывание исключения Си++.
</p>
</dd>
<dt><code>catch</code></dt>
<dd><span id="index-catch-catch"></span>
<p>Перехват исключения Си++.
</p>
</dd>
<dt><code>exec</code></dt>
<dd><span id="index-catch-exec"></span>
<p>Вызов <code>exec</code>.  В настоящее время это доступно только на HP-UX.
</p>
</dd>
<dt><code>fork</code></dt>
<dd><span id="index-catch-fork"></span>
<p>Вызов <code>fork</code>.  В настоящее время это доступно только на HP-UX.
</p>
</dd>
<dt><code>vfork</code></dt>
<dd><span id="index-catch-vfork"></span>
<p>Вызов <code>vfork</code>.  В настоящее время это доступно только на HP-UX.
</p>
</dd>
<dt><code>load</code></dt>
<dt><code>load <var>имя-библ</var></code></dt>
<dd><span id="index-catch-load"></span>
<p>Динамическая загрузка любой разделяемой библиотеки или загрузка
библиотеки <var>имя-библ</var>.  В настоящее время это доступно только на
HP-UX.
</p>
</dd>
<dt><code>unload</code></dt>
<dt><code>unload <var>имя-библ</var></code></dt>
<dd><span id="index-catch-unload"></span>
<p>Выгрузка любой динамически загруженной разделяемой библиотеки или
выгрузка библиотеки <var>имя-библ</var>.  В настоящее время это доступно
только на HP-UX.
</p></dd>
</dl>

</dd>
<dt><code>tcatch <var>событие</var></code></dt>
<dd><p>Установить точку перехвата, которая включена только до первой
активации.  Точка перехвата автоматически уничтожается после того, как
событие перехвачено первый раз.
</p>
</dd>
</dl>

<p>Используйте команду <code>info break</code> для получения списка текущих точек
перехвата.
</p>
<p>В настоящее время, в GDB существуют некоторые ограничения на
обработку исключений Си++ (<code>catch throw</code> и <code>catch catch</code>):
</p>
<ul>
<li> Если вы вызываете функцию интерактивно, GDB обычно возвращает
вам управление после того, как функция закончила выполнение.  Однако,
если вызов возбуждает исключение, он может обойти механизм, возвращающий
вам управление, и заставить вашу программу либо остановиться, либо просто
продолжить выполнение до тех пор, пока она не активирует точку останова,
получит сигнал, который ждет GDB, или выйдет.  Это имеет место,
даже если вы установите точку перехвата для исключения; точки перехвата
для исключений отключены при интерактивных вызовах.

</li><li> Вы не можете возбуждать исключения интерактивно.

</li><li> Вы не можете интерактивно установить обработчик исключения.
</li></ul>

<span id="index-vozbuzhdenie-iskliuchenii"></span>
<p>Иногда <code>catch</code> не является лучшим способом отладки обработки
исключений: если вам необходимо точно знать, где исключение возбуждено,
то лучше остановиться <em>до</em> того, как вызван обработчик исключения,
так как в этом случае вы можете увидеть стек до того, как произойдет
какое-либо развертывание.
Если вместо этого вы установите точку останова в обработчике исключений,
то может быть нелегко определить, где исключение было возбуждено.
</p>
<p>Для остановки сразу перед вызовом обработчика исключений, вам необходимы
некоторые знания о реализации.  В случае <small>GNU</small> Си++, исключения
возбуждаются путем вызова библиотечной функции <code>__raise_exception</code>,
которая имеет следующий интерфейс ANSI Си:
</p>
<div class="example">
<pre class="example">    /* <var>addr</var> -- где хранится идентификатор исключения.
       <var>id</var> -- идентификатор исключения.  */
    void __raise_exception (void **addr, void *id);
</pre></div>

<p>Для того, чтобы отладчик перехватывал все исключения до того, как
произойдет развертывание стека, установите точку останова на
<code>__raise_exception</code>  (see <a href="../точки
наблюдения и точки перехвата/_0422_043e_0447_043a_0438-_043e_0441_0442_0430_043d_043e_0432_0430.html#g_t_0422_043e_0447_043a_0438-_043e_0441_0442_0430_043d_043e_0432_0430">(точки
наблюдения и точки перехвата)Точки останова</a>).
</p>
<p>С помощью условных точек останова (see <a href="Usloviya.html">Условия останова</a>),
зависящих от значения <var>id</var>, вы можете остановить вашу программу,
когда возбуждается определенное исключение.  Вы можете использовать
несколько условных точек останова, чтобы остановить программу, когда
возбуждается любое из нескольких исключений.
</p>

<hr>
<div class="header">
<p>
Next: <a href="Udalenie-tochek-ostanova.html" accesskey="n" rel="next">Удаление точек останова</a>, Previous: <a href="Ustanovka-tochek-nabliudeniya.html" accesskey="p" rel="prev">Установка точек наблюдения</a>, Up: <a href="Tochki-ostanova.html" accesskey="u" rel="up">Точки останова</a> &nbsp; [<a href="Alfavitnyi-ukazatelx.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Alfavitnyi-ukazatelx.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
