<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
<title>Коммуникации (EB29K) (Отладка с помощью GDB)</title>

<meta name="description" content="Коммуникации (EB29K) (Отладка с помощью GDB)">
<meta name="keywords" content="Коммуникации (EB29K) (Отладка с помощью GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html" rel="start" title="Top">
<link href="Alfavitnyi-ukazatelx.html" rel="index" title="Алфавитный указатель">
<link href="Alfavitnyi-ukazatelx.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Vstroennyi-A29K.html" rel="up" title="Встроенный A29K">
<link href="gdb_002dEB29K.html" rel="next" title="gdb-EB29K">
<link href="A29K-EB29K.html" rel="prev" title="A29K EB29K">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="ru">
<span id="g_t_041a_043e_043c_043c_0443_043d_0438_043a_0430_0446_0438_0438-_0028EB29K_0029"></span><div class="header">
<p>
Next: <a href="gdb_002dEB29K.html" accesskey="n" rel="next">gdb-EB29K</a>, Previous: <a href="A29K-EB29K.html" accesskey="p" rel="prev">A29K EB29K</a>, Up: <a href="Vstroennyi-A29K.html" accesskey="u" rel="up">Встроенный A29K</a> &nbsp; [<a href="Alfavitnyi-ukazatelx.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Alfavitnyi-ukazatelx.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Ustanovka-svyazi"></span><h4 class="subsubsection">14.3.1.3 Установка связи</h4>

<p>Следующим шагом нужно установить параметры порта ПК, сделав в ДОС что-то
вроде этого:
</p>
<div class="example">
<pre class="example">C:\&gt; MODE com1:9600,n,8,1,none
</pre></div>

<p>Этот пример, выполненный в системе MS DOS 4.0, устанавливает порт ПК в
9600бит/сек, без проверки четности, восьмибитные данные, один
стоп-бит и отсутствие действия для &ldquo;повтора&rdquo;; вы должны использовать
те же параметры связи при установке соединения со стороны Unix.
</p>
<p>Чтобы передать управление с ПК стороне Unix, введите следующее в консоли
ДОС:
</p>
<div class="example">
<pre class="example">C:\&gt; CTTY com1
</pre></div>

<p>(Позже, если вы хотите вернуть управление консоли ДОС, вы можете
использовать команду <code>CTTY con</code> &mdash; но вы должны послать ее через
устройство, имевшее управление, в нашем примере через последовательную
линию <samp>COM1</samp>.)
</p>
<p>На Unix-машине, для связи с ПК используйте коммуникационную программу,
такую как <code>tip</code> или <code>cu</code>.  Например
</p>
<div class="example">
<pre class="example">cu -s 9600 -l /dev/ttya
</pre></div>

<p>Показанные ключи для <code>cu</code> определяют, соответственно, скорость
линии и последовательный порт.  Если вместо этого вы используете
<code>tip</code>, ваша командная строка может выглядеть следующим образом:
</p>
<div class="example">
<pre class="example">tip -9600 /dev/ttya
</pre></div>

<p>Ваша система может требовать другого имени в том месте, где мы
показываем <samp>/dev/ttya</samp> в качестве аргумента к <code>tip</code>.
Параметры связи, включая используемый порт, ассоциированы с аргументом к
<code>tip</code> в файле описаний &ldquo;remote&rdquo; &mdash; обычно это <samp>/etc/remote</samp>.
</p>
<span id="index-EBMON"></span>
<p>Используя соединение <code>tip</code> или <code>cu</code>, измените рабочий каталог
ДОС в тот, который содержит копию вашей программы 29K, затем запустите
на ПК программу <code>EBMON</code> (управляющая программа EB29K, поставляемая
AMD с вашей платой).  Вы должны увидеть начальный вывод <code>EBMON</code>,
аналогичный следующему, заканчивающийся приглашением <code>EBMON</code>
&lsquo;<samp>#</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">C:\&gt; G:

G:\&gt; CD \usr\joe\work29k

G:\USR\JOE\WORK29K&gt; EBMON
Am29000 PC Coprocessor Board Monitor, version 3.0-18
Copyright 1990 Advanced Micro Devices, Inc.
Written by Gibbons and Associates, Inc.

Enter '?' or 'H' for help

PC Coprocessor Type   = EB29K
I/O Base              = 0x208
Memory Base           = 0xd0000

Data Memory Size      = 2048KB
Available I-RAM Range = 0x8000 to 0x1fffff
Available D-RAM Range = 0x80002000 to 0x801fffff

PageSize              = 0x400
Register Stack Size   = 0x800
Memory Stack Size     = 0x1800

CPU PRL               = 0x3
Am29027 Available     = No
Byte Write Available  = Yes

# ~.
</pre></div>

<p>Затем выйдите из программы <code>cu</code> или <code>tip</code> (в этом примере это
сделано при помощи ввода <code>~.</code> в приглашении <code>EBMON</code>).
<code>EBMON</code> продолжает работать, готовый к тому, что GDB
перехватит управление.
</p>
<p>Для этого примера, мы предположили, что существует соединение PC/NFS,
которое устанавливает файловую систему Unix-машины как &ldquo;диск
<samp>G:</samp>&rdquo; на ПК.  Это является, вероятно, самым удобным способом
удостовериться, что одна и та же программа 29K находится и на ПК, и в
Unix-системе.  Если у вас нет PC/NFS или чего-нибудь аналогичного,
соединяющего две системы, вы должны прибегнуть к другому
способу передачи программы 29K из Unix на ПК &mdash; возможно переписать ее на
дискету.  GDB <em>не</em> загружает программы по последовательной
линии.
</p>
<hr>
<div class="header">
<p>
Next: <a href="gdb_002dEB29K.html" accesskey="n" rel="next">gdb-EB29K</a>, Previous: <a href="A29K-EB29K.html" accesskey="p" rel="prev">A29K EB29K</a>, Up: <a href="Vstroennyi-A29K.html" accesskey="u" rel="up">Встроенный A29K</a> &nbsp; [<a href="Alfavitnyi-ukazatelx.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Alfavitnyi-ukazatelx.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
