<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
<title>Встроенный MIPS (Отладка с помощью GDB)</title>

<meta name="description" content="Встроенный MIPS (Отладка с помощью GDB)">
<meta name="keywords" content="Встроенный MIPS (Отладка с помощью GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html" rel="start" title="Top">
<link href="Alfavitnyi-ukazatelx.html" rel="index" title="Алфавитный указатель">
<link href="Alfavitnyi-ukazatelx.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Vstroennye-processory.html" rel="up" title="Встроенные процессоры">
<link href="PowerPC.html" rel="next" title="PowerPC">
<link href="M88K.html" rel="prev" title="M88K">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="ru">
<span id="g_t_0412_0441_0442_0440_043e_0435_043d_043d_044b_0439-MIPS"></span><div class="header">
<p>
Next: <a href="PowerPC.html" accesskey="n" rel="next">PowerPC</a>, Previous: <a href="M88K.html" accesskey="p" rel="prev">M88K</a>, Up: <a href="Vstroennye-processory.html" accesskey="u" rel="up">Встроенные процессоры</a> &nbsp; [<a href="Alfavitnyi-ukazatelx.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Alfavitnyi-ukazatelx.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Vstroennyi-MIPS"></span><h4 class="subsection">14.3.9 Встроенный MIPS</h4>

<span id="index-MIPS"></span>
<p>GDB может использовать удаленный отладочный протокол MIPS для
взаимодействия с платой MIPS, присоединенной к последовательной линии.
Эта возможность доступна, если вы сконфигурировали GDB с
&lsquo;<samp>--target=mips-idt-ecoff</samp>&rsquo;.
</p>
<p>Используйте эти команды GDB для определения соединения с вашей
целевой платой:
</p>
<dl compact="compact">
<dt><code>target mips <var>порт</var></code></dt>
<dd><span id="index-target-mips-port"></span>
<p>Для выполнения программы на плате, выполните <code>gdb</code>, задав
имя программы в качестве аргумента.  Для соединения с платой,
используйте команду &lsquo;<samp>target mips <var>порт</var></samp>&rsquo;, где <var>порт</var> &mdash; имя
последовательного порта, присоединенного к плате.  Если программа еще не
была загружена на плату, вы можете использовать команду <code>load</code>,
чтобы это сделать.  Затем вы можете использовать все обычные команды
GDB.
</p>
<p>Например, эта последовательность команд устанавливает соединение к
целевой плате через последовательный порт, загружает и начинает
выполнение из отладчика программы с именем <var>prog</var>:
</p>
<div class="example">
<pre class="example">host$ gdb <var>prog</var>
GDB is free software and &hellip;
(gdb) target mips /dev/ttyb
(gdb) load <var>prog</var>
(gdb) run
</pre></div>

</dd>
<dt><code>target mips <var>имя-машины</var>:<var>номер-порта</var></code></dt>
<dd><p>В некоторых рабочих конфигурациях GDB, вы можете задать
TCP-соединение (например, к последовательной линии, управляемой
терминальным концентратором) вместо последовательного порта, используя
синтаксис &lsquo;<samp><var>имя-машины</var>:<var>номер-порта</var></samp>&rsquo;.
</p>
</dd>
<dt><code>target pmon <var>порт</var></code></dt>
<dd><span id="index-target-pmon-port"></span>
<p>Монитор ROM PMON.
</p>
</dd>
<dt><code>target ddb <var>порт</var></code></dt>
<dd><span id="index-target-ddb-port"></span>
<p>NEC DDB-разновидность PMON для Vr4300.
</p>
</dd>
<dt><code>target lsi <var>порт</var></code></dt>
<dd><span id="index-target-lsi-port"></span>
<p>LSI-разновидность PMON.
</p>
<span id="index-target-r3900"></span>
</dd>
<dt><code>target r3900 <var>устр</var></code></dt>
<dd><p>Densan DVE-R3900 монитор ROM для Toshiba R3900 Mips.
</p>
<span id="index-target-array"></span>
</dd>
<dt><code>target array <var>устр</var></code></dt>
<dd><p>Плата контроллера RAID Array Tech LSI33K.
</p>
</dd>
</dl>

<p>GDB также поддерживает следующие специальные команды для целей
MIPS:
</p>
<dl compact="compact">
<dt><code>set processor <var>арг</var></code></dt>
<dt><code>show processor</code></dt>
<dd><span id="index-set-processor-arg"></span>
<span id="index-show-processor"></span>
<p>Используйте команду <code>set processor</code> для установки типа процессора
MIPS, когда вы хотите обратиться к регистрам, уникальным для данного
типа процессора.  Например, <code>set processor <var>r3041</var></code> велит
GDB использовать регистры ЦП, соответствующие микросхеме
3041.  Используйте команду <code>show processor</code>, чтобы узнать, какой
процессор MIPS используется GDB.  Используйте команду
<code>info reg</code> чтобы узнать, какие регистры использует GDB.
</p>
</dd>
<dt><code>set mipsfpu double</code></dt>
<dt><code>set mipsfpu single</code></dt>
<dt><code>set mipsfpu none</code></dt>
<dt><code>show mipsfpu</code></dt>
<dd><span id="index-set-mipsfpu"></span>
<span id="index-show-mipsfpu"></span>
<span id="index-plavaiushchaya-tochka_002c-udalennyi-MIPS"></span>
<p>Если ваша целевая плата не поддерживает сопроцессор MIPS для вычислений
с плавающей точкой, вы должны использовать команду &lsquo;<samp>set mipsfpu
none</samp>&rsquo; (если вам это нужно, вы можете поместить эту команду в ваш
файл инициализации GDB).
Это говорит GDB, как найти значения
функций, которые возвращают величины с плавающей точкой.  Это также
позволяет GDB избежать сохранения регистров с плавающей точкой
при вызове функций на плате.  Если вы используете сопроцессор поддержки
вычислений с плавающей точкой с поддержкой только одинарной точности,
как на процессоре <small>R4650</small>, используйте команду &lsquo;<samp>set mipsfpu
single</samp>&rsquo;.  По умолчанию используется сопроцессор поддержки вычислений с
плавающей точкой двойной точности; этот режим может быть выбран с
помощью &lsquo;<samp>set mipsfpu double</samp>&rsquo;.
</p>
<p>В предыдущих версиях, единственным выбором была двойная точность или
отсутствие поддержки вычислений с плавающей точкой, так что &lsquo;<samp>set
mipsfpu on</samp>&rsquo; выберет режим двойной точности, а &lsquo;<samp>set mipsfpu off</samp>&rsquo;
отключит эту поддержку.
</p>
<p>Как обычно, вы можете запросить значение переменной <code>mipsfpu</code> при
помощи &lsquo;<samp>show mipsfpu</samp>&rsquo;.
</p>
</dd>
<dt><code>set remotedebug <var>n</var></code></dt>
<dt><code>show remotedebug</code></dt>
<dd><span id="index-set-remotedebug_002c-protokol-MIPS"></span>
<span id="index-show-remotedebug_002c-protokol-MIPS"></span>
<span id="index-remotedebug_002c-protokol-MIPS"></span>
<span id="index-protokol-MIPS-remotedebug"></span>
<p>Вы можете увидеть некоторую отладочную информацию о связи с
платой, установив переменную <code>remotedebug</code>.  Если вы установите ее
в <code>1</code> при помощи &lsquo;<samp>set remotedebug 1</samp>&rsquo;, будет отображаться
каждый пакет.  Если вы установите ее в <code>2</code>, то будет отображаться
каждый знак.  В любой момент вы можете проверить текущее значение
переменной командой &lsquo;<samp>show remotedebug</samp>&rsquo;.
</p>
</dd>
<dt><code>set timeout <var>секунды</var></code></dt>
<dt><code>set retransmit-timeout <var>секунды</var></code></dt>
<dt><code>show timeout</code></dt>
<dt><code>show retransmit-timeout</code></dt>
<dd><span id="index-timeout_002c-protokol-MIPS"></span>
<span id="index-retransmit_002dtimeout_002c-protokol-MIPS"></span>
<span id="index-set-timeout"></span>
<span id="index-show-timeout"></span>
<span id="index-set-retransmit_002dtimeout"></span>
<span id="index-show-retransmit_002dtimeout"></span>
<p>Вы можете управлять временем ожидания пакета, используемым в удаленном
протоколе MIPS, при помощи команды <code>set timeout <var>секунды</var></code>.
Значение по умолчанию &mdash; 5 секунд.  Аналогично, вы можете управлять
временем ожидания, используемым при ожидании подтверждения пакета с
помощью команды <code>set retransmit-timeout <var>секунды</var></code>.  По
умолчанию 3 секунды.  Вы можете узнать обе эти величины с помощью
<code>show timeout</code> и <code>show retransmit-timeout</code>.  (Эти команды
доступны, <em>только</em> если GDB сконфигурирован для цели
&lsquo;<samp>--target=mips-idt-ecoff</samp>&rsquo;.)
</p>
<p>Время ожидания, установленное при помощи <code>set timeout</code>, не играет
роли, когда GDB ожидает остановки вашей программы.  В этом
случае GDB ждет бесконечно, потому что у него нет способа
узнать, сколько программа будет выполняться, пока не остановится.
</p></dd>
</dl>

<hr>
<div class="header">
<p>
Next: <a href="PowerPC.html" accesskey="n" rel="next">PowerPC</a>, Previous: <a href="M88K.html" accesskey="p" rel="prev">M88K</a>, Up: <a href="Vstroennye-processory.html" accesskey="u" rel="up">Встроенные процессоры</a> &nbsp; [<a href="Alfavitnyi-ukazatelx.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Alfavitnyi-ukazatelx.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
