<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
<title>Установка точек останова (Отладка с помощью GDB)</title>

<meta name="description" content="Установка точек останова (Отладка с помощью GDB)">
<meta name="keywords" content="Установка точек останова (Отладка с помощью GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html" rel="start" title="Top">
<link href="Alfavitnyi-ukazatelx.html" rel="index" title="Алфавитный указатель">
<link href="Alfavitnyi-ukazatelx.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Tochki-ostanova.html" rel="up" title="Точки останова">
<link href="Ustanovka-tochek-nabliudeniya.html" rel="next" title="Установка точек наблюдения">
<link href="Tochki-ostanova.html" rel="prev" title="Точки останова">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="ru">
<span id="g_t_0423_0441_0442_0430_043d_043e_0432_043a_0430-_0442_043e_0447_0435_043a-_043e_0441_0442_0430_043d_043e_0432_0430"></span><div class="header">
<p>
Next: <a href="Ustanovka-tochek-nabliudeniya.html" accesskey="n" rel="next">Установка точек наблюдения</a>, Up: <a href="Tochki-ostanova.html" accesskey="u" rel="up">Точки останова</a> &nbsp; [<a href="Alfavitnyi-ukazatelx.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Alfavitnyi-ukazatelx.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Ustanovka-tochek-ostanova"></span><h4 class="subsection">5.1.1 Установка точек останова</h4>

<span id="index-break"></span>
<span id="index-b-_0028break_0029"></span>
<span id="index-_0024bpnum_002c-vspomogatelxnaya-peremennaya"></span>
<span id="index-poslednyaya-tochka-ostanova"></span>
<p>Точки останова устанавливаются командой <code>break</code> (сокращенно
<code>b</code>).  Вспомогательная переменная отладчика &lsquo;<samp>$bpnum</samp>&rsquo; хранит
номер последней установленной вами точки останова; смотрите
<a href="Vspomogatelxnye-peremennye.html">Вспомогательные переменные</a>, для
обсуждения того, что вы можете делать со вспомогательными переменными.
</p>
<p>Вы можете задавать место для установки новой точки останова несколькими
способами.
</p>
<dl compact="compact">
<dt><code>break <var>функция</var></code></dt>
<dd><p>Установить точку останова на входе в функцию <var>функция</var>.
При использовании языков, допускающих перегрузку символов, таких как
Си++, <var>функция</var> может ссылаться более чем на одно возможное место
останова.  See <a href="Meniu-tochki-ostanova.html">Меню точки останова</a>, для
обсуждения такой ситуации.
</p>
</dd>
<dt><code>break +<var>смещение</var></code></dt>
<dt><code>break -<var>смещение</var></code></dt>
<dd><p>Установить точку останова через несколько строк впереди или сзади от
позиции, на которой выполнение остановилось в текущем выбранном
<em>кадре стека</em>.  (See <a href="Kadry.html">Кадры стека</a>, для описания кадров стека.)
</p>
</dd>
<dt><code>break <var>номер-строки</var></code></dt>
<dd><p>Установить точку останова на строке <var>номер-строки</var> в текущем
исходном файле.  Текущий исходный файл &mdash; это файл, исходный текст
которого отображался последним.  Точка останова остановит вашу программу
сразу перед выполнением какого-либо кода на этой строке.
</p>
</dd>
<dt><code>break <var>имя-файла</var>:<var>номер-строки</var></code></dt>
<dd><p>Установить точку останова на строке <var>номер-строки</var> в исходном
файле <var>имя-файла</var>.
</p>
</dd>
<dt><code>break <var>имя-файла</var>:<var>функция</var></code></dt>
<dd><p>Установить точку останова на входе в <var>функцию</var>,
находящуюся в файле <var>имя-файла</var>.  Указание имени файла вместе с
именем функции является излишним, за исключением ситуаций, когда
несколько файлов содержат одинаково названные функции.
</p>
</dd>
<dt><code>break *<var>адрес</var></code></dt>
<dd><p>Установить точку останова по адресу <var>адрес</var>.  Вы можете
использовать это для установки точек останова в тех частях вашей
программы, которые не имеют отладочной информации или исходных файлов.
</p>
</dd>
<dt><code>break</code></dt>
<dd><p>При вызове без аргументов, <code>break</code> устанавливает точку останова на
инструкции, которая должна быть выполнена следующей в выбранном кадре
стека (see <a href="Stek.html">Исследование стека</a>).  В любом выбранном кадре,
кроме самого внутреннего, это останавливает вашу программу, как только
управление возвращается в этот кадр.  Это похоже на результат команды
<code>finish</code> в кадре внутри выбранного кадра &mdash; за исключением того, что
<code>finish</code> не оставляет активной точки останова.  Если вы используете
<code>break</code> без аргументов в самом внутреннем кадре, GDB
останавливается, когда в следующий раз достигает текущего места; это
может быть полезно внутри циклов.
</p>
<p>Обычно GDB игнорирует точки останова, когда он возобновляет
выполнение, пока не будет выполнена хотя бы одна
инструкция.  Если бы он этого не делал, вы не могли бы продолжать
выполнение после точки останова, не отключив сперва ее.
Это правило применяется вне зависимости от того, существовала или нет
точка останова, когда ваша программа остановилась.
</p>
</dd>
<dt><code>break &hellip; if <var>усл</var></code></dt>
<dd><p>Установить точку останова с условием <var>усл</var>; каждый раз, когда
достигается эта точка останова, происходит вычисление выражения <var>усл</var>, и
остановка происходит, только если эта величина не равна нулю &mdash; то есть, если
<var>усл</var> истинно.  &lsquo;<samp>&hellip;</samp>&rsquo; означает один из возможных
аргументов, перечисленных выше (или отсутствие аргументов), описывающих
место остановки.  See <a href="Usloviya.html">Условия остановки</a>, для большей
информации об условных точках останова.
</p>
<span id="index-tbreak"></span>
</dd>
<dt><code>tbreak <var>арг</var></code></dt>
<dd><p>Установить точку останова только до первой активизации.  Аргументы
<var>арг</var> такие же, как для команды <code>break</code>, и точка останова
устанавливается аналогичным образом, но она автоматически уничтожается
после того, как ваша программа первый раз на ней остановится.
See <a href="Otkliuchenie.html">Отключение точек останова</a>.
</p>
<span id="index-hbreak"></span>
</dd>
<dt><code>hbreak <var>арг</var></code></dt>
<dd><p>Установить аппаратно-поддерживаемую точку останова.
Аргументы <var>арг</var> такие же, как и для команды <code>break</code>, и точка
останова устанавливается аналогичным образом, но она требует аппаратной
поддержки, и некоторые целевые платформы могут ее не иметь.  Основной
целью этого является отладка кода EPROM/ROM, так что вы можете установить точку
останова на инструкции без изменения инструкции.  Это может быть
использовано с новой генерацией ловушек, предоставляемой SPARClite DSU и
некоторыми машинами на базе x86.  Эти платформы будут генерировать
ловушки, когда программа обращается к некоторым данным или адресу
инструкции, которые назначены регистрам отладки.  Однако, регистры
аппаратных точек останова могут хранить ограниченное число точек
останова.  Например, на DSU, только две точки останова могут быть
установлены одновременно, и GDB будет отвергать эту команду,
если используется больше.  Удалите или отключите неиспользуемые
аппаратные точки останова перед установкой новых (see <a href="Otkliuchenie.html">Отключение точек останова</a>).  See <a href="Usloviya.html">Условия останова</a>.
</p>
<span id="index-thbreak"></span>
</dd>
<dt><code>thbreak <var>арг</var></code></dt>
<dd><p>Установить аппаратно-поддерживаемую точку останова,
включенную только до первой активизации.  Аргументы <var>арг</var> такие же,
как и для команды <code>hbreak</code>, и точка останова устанавливается
аналогичным образом.  Однако, как в случае команды <code>tbreak</code>, точка
останова автоматически уничтожается после того, как программа первый раз
на ней остановится.  Также, как и в случае команды <code>hbreak</code>,
точка останова требует аппаратной поддержки и некоторые аппаратные
платформы могут ее не иметь.  See <a href="Otkliuchenie.html">Отключение точек
останова</a>.  Смотрите также <a href="Usloviya.html">Условия остановки</a>.
</p>
<span id="index-rbreak"></span>
<span id="index-regulyarnoe-vyrazhenie"></span>
</dd>
<dt><code>rbreak <var>рег-выр</var></code></dt>
<dd><p>Установить точки останова на всех функциях, удовлетворяющих
регулярному выражению <var>рег-выр</var>.  Эта команда устанавливает
безусловные точки останова при всех совпадениях, выводя список всех
установленных точек останова.  После установки,
они рассматриваются точно так же, как точки останова,
установленные командой <code>break</code>.  Вы можете удалять их, отключать
или делать их условными таким же способом, как любые другие точки
останова.
</p>
<p>Регулярные выражения имеют стандартный синтаксис, используемый такими
средствами, как <samp>grep</samp>.  Заметьте, что это отличается от
синтаксиса, используемого оболочками; так, например, <code>foo*</code>
подходит для всех функций, которые включают <code>fo</code>, за которым
следует любое число букв <code>o</code>.  Существует неявное <code>.*</code> в
начале и в конце введенного вами регулярного выражения, так что для
нахождения только тех функций, которые начинаются на <code>foo</code>,
используйте <code>^foo</code>.
</p>
<p>При отладке программ, написанных на Си++, <code>rbreak</code> полезна для
установки точек останова на перегруженных функциях, не являющихся
членами никакого специального класса.
</p>
<span id="index-info-breakpoints"></span>
<span id="index-_0024_005f-i-info-breakpoints"></span>
</dd>
<dt><code>info breakpoints <span class="roman">[</span><var>n</var><span class="roman">]</span></code></dt>
<dt><code>info break <span class="roman">[</span><var>n</var><span class="roman">]</span></code></dt>
<dt><code>info watchpoints <span class="roman">[</span><var>n</var><span class="roman">]</span></code></dt>
<dd><p>Вывести таблицу всех установленных и не удаленных точек останова,
наблюдения и перехвата, со следующими колонками для каждой точки:
</p>
<dl compact="compact">
<dt><em>Номер точки останова</em></dt>
<dt><em>Тип</em></dt>
<dd><p>Точка останова, наблюдения или перехвата.
</p></dd>
<dt><em>План</em></dt>
<dd><p>Помечена ли точка останова для отключения или удаления после активации.
</p></dd>
<dt><em>Включена или отключена</em></dt>
<dd><p>Включенные точки останова помечаются как &lsquo;<samp>y</samp>&rsquo;.  &lsquo;<samp>n</samp>&rsquo; отмечает
отключенные точки.
</p></dd>
<dt><em>Адрес</em></dt>
<dd><p>Адрес памяти, где расположена точка останова в вашей программе.
</p></dd>
<dt><em>Где</em></dt>
<dd><p>Файл и номер строки, где расположена точка останова в исходном файле.
</p></dd>
</dl>

<p>Если точка останова условная, <code>info break</code> показывает условие на
строке, следующей за этой точкой; команды точки останова, если они есть,
перечисляются после этого.
</p>
<p><code>info break</code> с номером точки останова <var>n</var> в качестве аргумента
отображает только эту точку.  Вспомогательная переменная <code>$_</code> и
адрес по умолчанию для исследования для команды <code>x</code> устанавливаются
равными адресу последней из перечисленных точек останова (see <a href="Pamyatx.html">Исследование памяти</a>).
</p>
<p><code>info break</code> отображает то число раз, которое точка останова была
активирована.  Это особенно полезно при использовании вместе с командой
<code>ignore</code>.  Вы можете игнорировать большое число активаций точки
останова, посмотреть информацию о точке останова, чтобы узнать, сколько
раз она активировалась, и затем запустить заново, игнорируя на единицу
меньше, чем это число.  Это быстро приведет вас к последней активации
этой точки останова.
</p></dd>
</dl>

<p>GDB позволяет вам установить любое число точек останова в
одном и том же месте вашей программы.  В этом нет ничего глупого или
бессмысленного.  Когда точки останова являются условными, это даже
полезно (see <a href="Usloviya.html">Условия останова</a>).
</p>
<span id="index-otricatelxnye-nomera-tochek-ostanova"></span>
<span id="index-vnutrennie-tochki-ostanova-GDB"></span>
<p>GDB иногда сам устанавливает точки останова в вашей программе
для специальных целей, таких как правильная обработка <code>longjmp</code> (в
программах на Си).  Этим внутренним точкам останова присваиваются
отрицательные номера, начиная с <code>-1</code>; &lsquo;<samp>info breakpoints</samp>&rsquo; не
отображает их.
</p>
<p>Вы можете увидеть эти точки останова с помощью служебной команды
GDB &lsquo;<samp>maint info breakpoints</samp>&rsquo;.
</p>
<dl compact="compact">
<dd><span id="index-maint-info-breakpoints"></span>
</dd>
<dt><code>maint info breakpoints</code></dt>
<dd><p>Используя тот же формат, что и &lsquo;<samp>info breakpoints</samp>&rsquo;, отобразить как
точки останова, установленные вами явно, так и те, которые
GDB использует для внутренних целей.  Внутренние точки останова
показываются с отрицательными номерами.  Колонка типа определяет, какого
типа точка останова показана:
</p>
<dl compact="compact">
<dt><code>breakpoint</code></dt>
<dd><p>Обычная, явно установленная точка останова.
</p>
</dd>
<dt><code>watchpoint</code></dt>
<dd><p>Обычная, явно установленная точка наблюдения.
</p>
</dd>
<dt><code>longjmp</code></dt>
<dd><p>Внутренняя точка останова, используемая для корректной обработки
пошагового выполнения вызовов <code>longjmp</code>.
</p>
</dd>
<dt><code>longjmp resume</code></dt>
<dd><p>Внутренняя точка останова на цели <code>longjmp</code>.
</p>
</dd>
<dt><code>until</code></dt>
<dd><p>Временная внутренняя точка останова, используемая командой GDB
<code>until</code>.
</p>
</dd>
<dt><code>finish</code></dt>
<dd><p>Временная внутренняя точка останова, используемая командой GDB
<code>finish</code>.
</p>
</dd>
<dt><code>shlib events</code></dt>
<dd><p>События в разделяемых библиотеках.
</p>
</dd>
</dl>

</dd>
</dl>


<hr>
<div class="header">
<p>
Next: <a href="Ustanovka-tochek-nabliudeniya.html" accesskey="n" rel="next">Установка точек наблюдения</a>, Up: <a href="Tochki-ostanova.html" accesskey="u" rel="up">Точки останова</a> &nbsp; [<a href="Alfavitnyi-ukazatelx.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Alfavitnyi-ukazatelx.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
